{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/illia/addnote/front/src/Pages/TreeItem/TreeItem.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport TreeItemWrapper from '../../Containers/TreeItemWrapper/TreeItemWrapper';\nimport TreeItemAdd from '../../Containers/TreeItemAdd/TreeItemAdd';\nimport TreeItemDelete from '../../Containers/TreeItemDelete/TreeItemDelete';\nimport TreeItemFold from '../../Containers/TreeItemFold/TreeItemFold';\nimport TreeItemContent from '../../Containers/TreeItemContent/TreeItemContent';\nimport TreeItemCircle from '../../Containers/TreeItemCircle/TreeItemCircle';\nimport Draggable from '../../Containers/Draggable/Draggable';\nimport Tree from '../Tree/Tree';\nimport './TreeItem.css';\n\nconst TreeItem = ({\n  item,\n  eventDispatcher,\n  myLastNode,\n  myDispatch,\n  myNodes,\n  isDragging,\n  isDraggingVal\n}) => {\n  _s();\n\n  const [isDraggingState, setIsDraggingState] = useState(false);\n  const [typing, setTyping] = useState({\n    state: false,\n    timeCode: null,\n    val: item.title\n  });\n  useEffect(() => {\n    return () => {\n      clearTimeout(typing.timeCode);\n    };\n  }, [typing]);\n  useEffect(() => {\n    setIsDraggingState(isDraggingVal);\n  }, [isDraggingVal]);\n\n  async function handleChange(evt) {\n    const timer = setTimeout(() => {\n      console.log(item.title + ' Finish');\n      setTyping({\n        state: false,\n        timeCode: null,\n        val: evt.target.value\n      });\n      eventDispatcher(editTitle, item.id, evt.target.value);\n    }, 1500);\n    setTyping({\n      state: true,\n      timeCode: timer,\n      val: evt.target.value\n    });\n  }\n\n  ;\n\n  const onDrop = id => {\n    if (isDraggingState) {\n      // console.log(isDraggingState)\n      myLastNode(item.title);\n    }\n  };\n\n  const myDispatchFun = () => {\n    // console.log(myNodes) \n    myDispatch(item.title);\n  };\n\n  const isDraggingFun = val => {\n    isDragging(val); // console.log(val)\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-tree-node\",\n    style: {\n      paddingLeft: '20px',\n      cursor: 'pointer',\n      paddingTop: '10px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TreeItemWrapper, {\n      onMouseOver: () => onDrop(item.title),\n      children: [/*#__PURE__*/_jsxDEV(Draggable, {\n        onStop: myDispatchFun,\n        isDragging: isDraggingFun,\n        children: /*#__PURE__*/_jsxDEV(TreeItemCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TreeItemContent, {\n        html: typing.state ? typing.val : item.title,\n        onClick: myDispatchFun,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TreeItemFold, {\n        onClick: () => eventDispatcher(openNode, item.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TreeItemAdd, {\n        onClick: () => eventDispatcher(addNode, item.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TreeItemDelete, {\n        onClick: () => typing.state ? null : eventDispatcher(deleteNode, item.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), item.items && item.state === true ? /*#__PURE__*/_jsxDEV(Tree, {\n      items: item.items,\n      eventDispatcher: eventDispatcher,\n      isDragging: isDraggingFun,\n      myNodes: myNodes,\n      myLastNode: myLastNode,\n      myDispatch: myDispatch,\n      isDraggingVal: isDraggingVal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 50\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TreeItem, \"qBDsFofrtmFaGBrdV5E1SBt8Awk=\");\n\n_c = TreeItem;\nexport default TreeItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"TreeItem\");","map":{"version":3,"sources":["/home/illia/addnote/front/src/Pages/TreeItem/TreeItem.js"],"names":["React","TreeItemWrapper","TreeItemAdd","TreeItemDelete","TreeItemFold","TreeItemContent","TreeItemCircle","Draggable","Tree","TreeItem","item","eventDispatcher","myLastNode","myDispatch","myNodes","isDragging","isDraggingVal","isDraggingState","setIsDraggingState","useState","typing","setTyping","state","timeCode","val","title","useEffect","clearTimeout","handleChange","evt","timer","setTimeout","console","log","target","value","editTitle","id","onDrop","myDispatchFun","isDraggingFun","paddingLeft","cursor","paddingTop","openNode","addNode","deleteNode","items"],"mappings":"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","sourcesContent":["import React from 'react'\nimport TreeItemWrapper from '../../Containers/TreeItemWrapper/TreeItemWrapper'\nimport TreeItemAdd from '../../Containers/TreeItemAdd/TreeItemAdd'\nimport TreeItemDelete from '../../Containers/TreeItemDelete/TreeItemDelete'\nimport TreeItemFold from '../../Containers/TreeItemFold/TreeItemFold'\nimport TreeItemContent from '../../Containers/TreeItemContent/TreeItemContent'\nimport TreeItemCircle from '../../Containers/TreeItemCircle/TreeItemCircle'\nimport Draggable from '../../Containers/Draggable/Draggable'\nimport Tree from '../Tree/Tree'\nimport './TreeItem.css'\n\nconst TreeItem = ({item,eventDispatcher, myLastNode, myDispatch, myNodes, isDragging, isDraggingVal}) => {\n\n    const [isDraggingState,setIsDraggingState] = useState(false)\n    const [typing, setTyping] = useState({\n        state: false,\n        timeCode: null,\n        val: item.title\n    })\n\n    useEffect(() => {\n        return () => {            \n            clearTimeout(typing.timeCode)\n        }\n    },[typing])\n    \n    useEffect(() => {\n        setIsDraggingState(isDraggingVal)\n    }, [isDraggingVal])\n\n    async function handleChange(evt) {\n   \n        const timer = setTimeout(() => {\n            console.log(item.title + ' Finish')\n            setTyping({\n                state: false,\n                timeCode: null,\n                val: evt.target.value\n            })\n            eventDispatcher(editTitle,item.id, evt.target.value)\n        }, 1500)\n        \n        setTyping({\n            state: true,\n            timeCode: timer,\n            val: evt.target.value\n        })\n    \n\n    };\n    \n    \n    const onDrop = (id) => {\n        if(isDraggingState){\n            // console.log(isDraggingState)\n\n            myLastNode(item.title)\n        }\n    }\n    \n\n\n    const myDispatchFun = () => {\n        // console.log(myNodes) \n        myDispatch(item.title)\n    }\n\n\n    const isDraggingFun = (val) => {\n        isDragging(val)\n        // console.log(val)\n    }\n\n    return (\n        <div className=\"my-tree-node\" style={{paddingLeft: '20px', cursor: 'pointer', paddingTop: '10px'}}>\n            <TreeItemWrapper onMouseOver={() => onDrop(item.title)}>\n                <Draggable onStop={myDispatchFun} isDragging={isDraggingFun}>\n                    <TreeItemCircle/>\n                </Draggable>\n                <TreeItemContent html={typing.state ? typing.val : item.title}\n                 onClick={myDispatchFun} onChange={handleChange} />\n                <TreeItemFold onClick={() => eventDispatcher(openNode,item.id)}/>\n                <TreeItemAdd onClick={() => eventDispatcher(addNode,item.id)}/>\n                <TreeItemDelete onClick={() => typing.state ? null : eventDispatcher(deleteNode,item.id)}/>\n                \n            </TreeItemWrapper>\n            {item.items && item.state === true ? <Tree items={item.items} eventDispatcher={eventDispatcher} isDragging={isDraggingFun} myNodes={myNodes} myLastNode={myLastNode}  myDispatch={myDispatch}\n             isDraggingVal={isDraggingVal}/> : null}\n        </div>\n    )\n}\n\nexport default TreeItem\n"]},"metadata":{},"sourceType":"module"}